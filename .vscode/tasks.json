{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "Container Configuration",
            "command": "docker container stop $(docker ps -a -q) ; docker container rm $(docker ps -a -q) ; docker compose up -d; docker cp BUILD/BIN/ICE-SERVICE ice-server-container-v2:/data/ICE2/ICE-SERVICE ; docker exec -d -w /data/ICE2/WebInterface ice-server-container-v2 /usr/bin/nodejs javascripts/Main_API.js javascripts/config.json ; IPS=$(docker exec -it ice-server-container-v2 cat \"/data/ICE2/CONFIG/KinetConfiguration.xml\" | xmlstarlet sel -t -v \"//configuration/panel/@ip\"); for ip in $IPS; do docker run --detach --label panel --label qsdf --net auditorium --ip \"$ip\" gitlab.cgrcinemas.fr:5050/martin.lagrange/iceauditoriumsimulator /IceDeviceEmulator \"$ip\" 192.50.0.1 ; done",
            "type": "shell",
            "args": [],
            "problemMatcher": [
                "$tsc"
            ],
            "presentation": {
                "reveal": "always"
            },
            "group": "build"
        }
    ]
}